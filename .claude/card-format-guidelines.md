# Zettelkasten 卡片格式規範

本文件說明日文學習 Zettelkasten 系統中卡片的格式規範，特別是連結建立的兩種方式。

## ⚠️ 重要格式說明

**本專案嚴格使用標準 Markdown 連結格式**：

✅ **正確格式**: `[顯示文字](相對路徑.md)`
- 範例：`[食べる](../verb-ru/001_taberu.md)`
- 範例：`[が](../particle/001_ga.md)`
- 範例：`[て形](../grammar/001_te_form.md)`

❌ **禁止格式**: `[[path|text]]` 或 `[[path]]`（Obsidian Wikilink）
- 原因：在 GitHub、GitLab、VS Code 等標準 Markdown 渲染器中無法正常顯示
- 本專案已完成從 Wikilink 到標準 Markdown 連結的轉換

**腳註連結格式**：
```markdown
[^key]: **概念名稱** - 簡短說明（一句話）。詳見 [卡片標題](../path/card.md)
```

詳細說明請參考：[CLAUDE.md - 連結格式規範](../CLAUDE.md#連結格式規範)

---

## 目錄

1. [Title 格式規範](#title-格式規範)
2. [卡片基本結構](#卡片基本結構)
3. [連結類型選擇](#連結類型選擇)
4. [標準連結](#標準連結standard-links)
5. [腳註（Footnotes）](#腳註footnotes)
6. [決策流程](#決策流程)
7. [完整範例](#完整範例)

---

## Title 格式規範

**重要**：`title` 欄位必須使用日文標題格式，**禁止**使用路徑格式。

### 正確格式

| 類別 | 格式 | 範例 |
|------|------|------|
| noun, verb-ru, verb-u, verb-irr | `日文（讀音）` | `食べる（たべる）` |
| adj-i, adj-na | `日文（讀音）` | `新しい（あたらしい）` |
| grammar | `文法句型` | `〜て形` 或 `て形（動詞て形）` |
| comparison, contrast | `A vs B` | `いる vs ある` |
| concept | `概念名稱（讀音）` | `物価上昇（ぶっかじょうしょう）` |
| particle | `助詞` | `が` |
| phrase | `表達句型` | `そうする` |

### 錯誤格式（禁止）

```yaml
# ❌ 錯誤：使用路徑格式
title: noun/tonari
title: verb-ru/taberu
title: comparison/ga_vs_wa

# ✅ 正確：使用日文標題
title: "隣（となり）"
title: "食べる（たべる）"
title: "が vs は"
```

### 提取來源

title 的內容應從以下來源提取：

1. **詞彙卡片**：從 `## 日文` 區塊提取日文和讀音
2. **比較卡片**：從內容中提取比較的兩個項目
3. **文法卡片**：使用文法句型名稱

---

## 卡片基本結構

所有卡片都應該遵循以下基本結構：

```markdown
---
(YAML Frontmatter - 元數據)
---

## 日文
(日文詞彙 + 羅馬拼音)

## 日文解釋
(以日文思考撰寫的解釋，使用腳註標註概念)

## 英文解釋
(英文解釋，使用腳註標註概念)

## 中文解釋
(繁體中文解釋，使用腳註標註概念)

## 例句
(例句，使用腳註標註文法點)

---

## 註解
(腳註定義區塊)

[^note1]: **概念名稱** - 說明。詳見 [概念卡片](../concept/001_example.md)
[^note2]: **文法點** - 說明。詳見 [文法卡片](../grammar/001_example.md)

---

## 相關連結
(標準連結區塊)

### 同義詞
- [卡片1](001_card1.md) - 說明
- [卡片2](002_card2.md) - 說明

### 相關詞彙
- [卡片3](../noun/001_card3.md) - 說明

### 延伸說明
- [延伸說明1](../extension/001_extension1.md) - 說明
```

---

## 連結類型選擇

本系統支援兩種連結方式，應根據情境選擇：

### 🔗 標準連結（Standard Links）：`[text](path.md)`
- **位置**：卡片底部的「相關連結」區塊
- **用途**：集中列出相關卡片
- **特點**：易於瀏覽，不干擾閱讀
- **格式**：標準 Markdown `[顯示文字](相對路徑.md)`

### 📝 腳註：`[^note]`
- **位置**：解釋或例句的文字內容中
- **用途**：就地標註概念，提供補充說明
- **特點**：不打斷閱讀流程，可包含詳細解釋
- **連結格式**：腳註定義中使用 `詳見 [text](path.md)`

---

## 標準連結（Standard Links）

### 使用情境

✅ **應使用標準連結的情況**：

1. **同義詞、反義詞列表**
2. **相關詞彙列表**
3. **延伸卡片連結**
4. **主題群組連結**
5. **文法相關卡片列表**
6. **JLPT 同級詞彙**

### 格式

```markdown
## 相關連結

### 同義詞
- [召し上がる](../verb-u/003_meshiagaru.md) - 尊敬語形式
- [いただく](004_itadaku.md) - 謙讓語形式

### 相關詞彙（飲食）
- [朝ごはん](../noun/001_asagohan.md) - 早餐
- [食べ物](../noun/007_tabemono.md) - 食物
- [飲む](../verb-u/006_nomu.md) - 喝

### 文法相關
- [を](../particle/001_wo.md) - 賓語助詞
- [て形](../grammar/001_te_form.md) - 動詞て形

### 延伸說明
- [敬語用法](../honorific/001_meshiagaru_itadaku.md)
- [食べる vs 食う](../extension/comparison/001_taberu_vs_kuu.md)
```

### 分類建議

標準連結區塊應該按照以下順序組織：

1. **同義詞** - 意思相同或相近的詞
2. **反義詞** - 意思相反的詞
3. **相關詞彙** - 同一主題或領域的詞（可按主題細分）
4. **文法相關** - 相關的文法卡片
5. **延伸說明** - 該詞的延伸卡片
6. **同級詞彙** - JLPT 同級、同類型的詞

---

## 腳註（Footnotes）

### 使用情境

✅ **應使用腳註的情況**：

#### 1. 日文/英文/中文解釋中的概念說明

- **文法術語**：一段動詞、敬語、助詞、活用形等
- **語言學概念**：多義詞、慣用語、外來語、複合詞等
- **語域/語境**：正式、口語、商務、日常會話等
- **社會文化概念**：階層、禮儀、場合等

#### 2. 例句中的文法點標註

- **特殊文法結構**：〜に行く、〜てしまう、〜ている等
- **助詞用法**：を、に、で、が等
- **動詞變化形**：て形、た形、可能形等
- **敬語表現**：尊敬語、謙讓語、丁寧語

#### 3. 專業領域說明

- **經濟學、法律、醫學等專業術語**
- **領域分類索引連結**
- **專業概念解釋**

#### 4. 文化背景註解

- **慣用語、諺語的由來**
- **文化特定概念**（如内と外、本音と建前）
- **歷史背景**
- **社會習俗**

#### 5. 詞彙成分說明

- **接頭詞**：お〜、ご〜、不〜等
- **接尾詞**：〜的、〜化、〜性等
- **複合詞的組成部分**

#### 6. 特殊用法標註

- **多義詞的不同意思**
- **同形異義詞**
- **特殊語境下的意思變化**

### 腳註格式規範

#### 語義化標籤（推薦）

```markdown
✅ 好的範例：
[^ichidan] - 一段動詞
[^keigo] - 敬語
[^casual-context] - 口語場景
[^grammar-te-ni-iku] - 〜に行く文法
[^idiom-neko] - 貓相關慣用語

❌ 避免：
[^1], [^2], [^3] - 難以理解意義，維護困難
```

**優點**：
- 語義清楚，易於維護
- 不需要手動管理編號順序
- 新增/刪除腳註不影響其他編號
- Markdown 渲染時會自動產生遞增數字

#### 腳註內容格式

每個腳註應包含：

```markdown
[^tag]: **標題** - 簡短說明（一句話解釋）。詳見 [卡片標題](../path/card.md)
```

**要素**：
1. **粗體標題**：概念名稱（必須）
2. **破折號 + 簡短說明**：一句話解釋（必須）
3. **詳見 + 連結**：`詳見 [卡片標題](相對路徑.md)`（推薦）
4. **額外資訊**：例句、補充說明（可選）

**重要**：使用標準 Markdown 格式 `[text](path.md)`，符合 `add-footnote-links.py` 腳本的解析規則

### 腳註範例

#### 範例 1：文法概念標註

```markdown
## 日文解釋

「食べる」は、食物を口に入れて飲み込むことを表す一段動詞[^ichidan]です。
日常会話[^casual]でよく使われます。

---

## 註解

[^ichidan]: **一段動詞** - 語幹不變，只變化「る」的動詞類型。例：食べる → 食べます、食べて、食べた。詳見 [一段動詞](../grammar/verb-types/ichidan.md)

[^casual]: **日常會話場景** - 朋友、家人之間的非正式對話。詳見 [日常會話](../context/casual-conversation.md)
```

#### 範例 2：例句中的文法點

```markdown
## 例句

1. 毎日[^mainichi]朝ごはんを[^wo]食べます。
   I eat breakfast every day.
   我每天吃早餐。

2. 昨日、友達と寿司を食べに行きました[^te-ni-iku]。
   Yesterday, I went to eat sushi with friends.
   昨天我和朋友去吃壽司。

---

## 註解

[^mainichi]: **頻率副詞「毎日」** - 表示每天、日常的頻率。詳見 [毎日](../adverb/frequency/mainichi.md)

[^wo]: **賓語助詞「を」** - 標示動作的直接賓語。詳見 [を](../particle/001_wo.md)

[^te-ni-iku]: **〜に行く文法** - 表示「去做某事」的目的表達。格式：動詞ます形去掉ます + に行く。詳見 [〜に行く](../grammar/purpose-ni-iku.md)
```

#### 範例 3：文化背景標註

```markdown
## 文化注意

日本的敬語系統[^keigo-system]反映了社會階層[^social-hierarchy]和集團意識
[^group-consciousness]。正確使用敬語是社交禮儀[^social-etiquette]的重要部分。

---

## 註解

[^keigo-system]: **敬語系統** - 日語有尊敬語、謙讓語、丁寧語三大類，是世界上最複雜的敬語系統之一。詳見 [敬語總覽](../grammar/keigo/overview.md)

[^social-hierarchy]: **社會階層** - 日本社會重視年齡、職位、社會地位的上下關係。詳見 [社會階層](../concept/social-hierarchy.md)

[^group-consciousness]: **集團意識** - 內外之分（内と外）是日語敬語使用的重要概念。詳見 [集團意識](../concept/group-consciousness.md)

[^social-etiquette]: **社交禮儀** - 日本重視禮節，敬語使用不當可能造成嚴重的社交失誤。詳見 [社交禮儀](../concept/social-etiquette.md)
```

---

## 決策流程

使用以下流程圖決定使用哪種連結方式：

```
要建立連結時
    ↓
問：在「相關連結」區塊嗎？
    ├─ 是 → 使用標準連結 [text](path.md)
    └─ 否 ↓
        問：在解釋或例句的文字內容中嗎？
            ├─ 是 ↓
            │   問：需要補充說明嗎？
            │   ├─ 是 → 使用腳註 [^note]
            │   └─ 否 → 直接使用標準連結 [text](path.md)（較少見）
            └─ 否 → 使用標準連結 [text](path.md)
```

### 具體判斷標準

| 情境 | 使用方式 | 原因 |
|------|---------|------|
| 列出同義詞 | 標準連結 | 集中管理，易於瀏覽 |
| 解釋中提到文法概念 | 腳註 | 就地說明，不打斷閱讀 |
| 例句中的文法點 | 腳註 | 精確標註，提供補充 |
| 列出相關詞彙 | 標準連結 | 方便總覽相關資源 |
| 文化背景說明 | 腳註 | 補充性資訊，深入解釋 |
| 延伸卡片連結 | 標準連結 | 明確指向進階內容 |

### 特殊情況

#### 情況一：同一概念既在解釋中提到，又在相關連結中列出

```markdown
## 日文解釋
「食べる」は一段動詞[^ichidan]です。

---

## 註解
[^ichidan]: **一段動詞** - 語幹不變...。詳見 [一段動詞](../grammar/verb-types/ichidan.md)

---

## 相關連結

### 文法相關
- [一段動詞類型](../grammar/verb-types/ichidan.md) - 詳細說明
- [五段動詞類型](../grammar/verb-types/godan.md) - 對比參考
```

**處理方式**：
- 解釋中使用腳註（就地說明）
- 相關連結中也可以列出（提供更多相關資源）
- 不衝突，各有功能

#### 情況二：例句中的詞彙

```markdown
## 例句

1. 毎日朝ごはんを食べます。

---

## 相關連結

### 相關詞彙
- [朝ごはん](../noun/001_asagohan.md) - 早餐
```

**處理方式**：
- 如果例句中的詞只是使用，不需要解釋 → 不用腳註
- 在「相關詞彙」區塊列出 → 使用標準連結
- 如果需要解釋「朝ごはん」的構成或特殊用法 → 使用腳註

---

## 完整範例

### 基本詞彙卡片範例

```markdown
---
title: verb-ru/001_taberu
description: 吃（食物）
type: verb
subtype: ichidan
jlpt: n5
tags: [daily_life, casual, family]
related_words: [asagohan, tabemono, nomu]
synonyms: [meshiagaru, itadaku, kuu]
created: 2025-10-28
extensions:
  敬語形式: ../honorific/001_meshiagaru_itadaku.md
---

## 日文
食べる（たべる）

**羅馬拼音**：taberu

**詞性**：動詞（一段動詞[^ichidan]）

## 日文解釋

「食べる」は、食物を口に入れて飲み込むことを表す一段動詞[^ichidan]です。
日常会話[^casual]でよく使われる基本的な動詞で、尊敬語[^sonkeigo]や謙讓語
[^kenjougo]の形式もあります。

## 英文解釋

"Taberu" is an ichidan verb[^ichidan] that means "to eat" or "to consume food."
It is commonly used in everyday conversation[^casual] and has both respectful[^sonkeigo]
and humble[^kenjougo] forms.

## 中文解釋

「食べる」是一段動詞[^ichidan]，意思是「吃」或「進食」。這是日常會話[^casual]中
常用的基本動詞，也有尊敬語[^sonkeigo]和謙讓語[^kenjougo]的形式。

## 動詞變化

| 變化形 | 形式 | 例句 |
|--------|------|------|
| 辭書形 | 食べる | 毎日野菜を食べる |
| ます形 | 食べます | 朝ごはんを食べます |
| て形 | 食べて | 食べてください |
| た形 | 食べた | 昨日寿司を食べた |
| ない形 | 食べない | 肉を食べない |

## 例句

1. 毎日[^mainichi]朝ごはんを[^wo]食べます。
   I eat breakfast every day.
   我每天吃早餐。

2. 昨日、友達と寿司を食べに行きました[^te-ni-iku]。
   Yesterday, I went to eat sushi with friends.
   昨天我和朋友去吃壽司。

3. 野菜をたくさん食べてください[^te-kudasai]。
   Please eat lots of vegetables.
   請多吃蔬菜。

---

## 註解

[^ichidan]: **一段動詞** - 語幹不變，只變化「る」的動詞類型。例：食べる → 食べます、食べて、食べた。詳見 [一段動詞](../grammar/verb-types/ichidan.md)

[^casual]: **日常會話場景** - 朋友、家人之間的非正式對話。詳見 [日常會話](../context/casual-conversation.md)

[^sonkeigo]: **尊敬語** - 提高對方地位的敬語。「食べる」的尊敬語是「召し上がる」。詳見 [尊敬語](../grammar/keigo/sonkeigo.md)

[^kenjougo]: **謙讓語** - 降低自己地位的敬語。「食べる」的謙讓語是「いただく」。詳見 [謙讓語](../grammar/keigo/kenjougo.md)

[^mainichi]: **頻率副詞「毎日」** - 表示每天、日常的頻率。詳見 [毎日](../adverb/frequency/mainichi.md)

[^wo]: **賓語助詞「を」** - 標示動作的直接賓語。詳見 [を](../particle/001_wo.md)

[^te-ni-iku]: **〜に行く文法** - 表示「去做某事」的目的表達。格式：動詞ます形去掉ます + に行く。詳見 [〜に行く](../grammar/purpose-ni-iku.md)

[^te-kudasai]: **〜てください文法** - 禮貌的請求或命令。格式：動詞て形 + ください。詳見 [てください](../grammar/te-kudasai.md)

---

## 相關連結

### 同義詞・敬語
- [召し上がる](../verb-u/003_meshiagaru.md) - 尊敬語
- [いただく](004_itadaku.md) - 謙讓語
- [食う](../verb-u/005_kuu.md) - 粗俗用法

### 相關詞彙（飲食）
- [朝ごはん](../noun/001_asagohan.md) - 早餐
- [食べ物](../noun/007_tabemono.md) - 食物
- [飲む](../verb-u/006_nomu.md) - 喝

### 文法相關
- [を](../particle/001_wo.md) - 賓語助詞
- [て形](../grammar/001_te_form.md) - 動詞て形
- [一段動詞](../grammar/verb-types/ichidan.md) - 動詞類型

### 延伸說明
- [敬語用法](../honorific/001_meshiagaru_itadaku.md) - 詳細的敬語說明
- [食べる vs 食う](../extension/comparison/001_taberu_vs_kuu.md) - 語域差異
```

---

## 總結

### 標準連結 vs 腳註的核心區別

| 特徵 | 標準連結 `[text](path.md)` | 腳註 `[^note]` |
|------|---------------------------|---------------|
| **位置** | 卡片底部「相關連結」區塊 | 文字內容中就地標註 |
| **功能** | 集中列出相關資源 | 補充說明概念 |
| **閱讀體驗** | 需跳到底部查看 | 點擊跳轉，可返回 |
| **說明詳細度** | 一行簡短說明 | 可多行詳細解釋 |
| **適用內容** | 同義詞、相關詞彙、延伸卡片 | 概念、文法點、文化背景 |
| **管理方式** | 手動分類組織 | 自動編號渲染 |
| **連結格式** | 標準 Markdown | 腳註定義中使用「詳見 [...]」 |

### 最佳實踐

1. **一張卡片應該同時有兩種連結**
   - 腳註：在內容中標註概念和文法點
   - 標準連結：在底部集中列出相關資源

2. **不要過度使用腳註**
   - 只標註重要的、需要補充說明的概念
   - 基本詞彙、已充分說明的內容不需腳註

3. **保持一致性**
   - 相同概念使用相同的腳註標籤
   - 相同類型的連結使用相同的分類

4. **優先考慮使用者體驗**
   - 腳註幫助理解當下內容
   - 標準連結提供延伸學習路徑
