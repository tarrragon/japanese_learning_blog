# v1.0.8：日文輸入練習頁面 UI

## 目標

建立日文羅馬字輸入練習的靜態 UI，包含題目顯示區和虛擬鍵盤，為後續的邏輯開發奠定基礎。

## 技術決策

| 項目 | 決策 | 理由 |
|------|------|------|
| 輸入模式 | 羅馬字輸入 | 符合大多數日文學習者的習慣 |
| 視覺設計 | 黑色底色、無裝飾 | 專注於輸入練習，減少視覺干擾 |
| 實作方式 | 純 HTML/CSS | 本版本僅建立靜態 UI，JS 邏輯在 v1.0.9 |

### 顏色規範

| 狀態 | 顏色 | HEX 值 |
|------|------|--------|
| 未輸入 | 藍色 | #3B82F6 |
| 已輸入 | 灰色 | #6B7280 |
| 當前目標 | 綠色 | #10B981 |
| 背景 | 黑色 | #000000 或 #111111 |

---

## 驗收條件

### AC-1: 頁面結構完整

- [ ] 練習頁面可從網站導航進入（/practice/）
- [ ] 頁面包含題目顯示區和虛擬鍵盤區
- [ ] 黑色背景、無多餘裝飾

### AC-2: 題目顯示區

- [ ] 顯示日文文字（假名/漢字）
- [ ] 顯示對應的羅馬拼音提示
- [ ] 文字顏色正確（藍/灰/綠三態）
- [ ] 字體大小適中、易於閱讀

### AC-3: 虛擬鍵盤

- [ ] 顯示完整的 QWERTY 鍵盤佈局
- [ ] 鍵盤按鍵可視覺標示當前目標（綠色邊框）
- [ ] 按鍵設計清晰易讀
- [ ] 鍵盤不影響實際鍵盤輸入

### AC-4: 響應式設計

- [ ] 桌面瀏覽器（1024px+）正常顯示
- [ ] 平板（768px-1024px）適當調整
- [ ] 行動裝置提示「請使用桌面瀏覽器」

---

## UI 規格

### 整體佈局

```
┌─────────────────────────────────────────────────────────────┐
│                    [導航列 - 可選]                           │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│                    ┌───────────────────┐                    │
│                    │   題目顯示區       │                    │
│                    │                   │                    │
│                    │  朝ごはんを食べます │                    │
│                    │  a sa go ha n...  │                    │
│                    └───────────────────┘                    │
│                                                             │
│                    ┌───────────────────┐                    │
│                    │   虛擬鍵盤區       │                    │
│                    │  [Q][W][E][R]...  │                    │
│                    │   [A][S][D][F]... │                    │
│                    │    [Z][X][C]...   │                    │
│                    └───────────────────┘                    │
│                                                             │
│                    [控制按鈕 - v1.1.0]                       │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

### 題目顯示區詳細規格

```
┌─────────────────────────────────────────────────────┐
│                                                     │
│    朝  ご  は  ん  を  食  べ  ま  す               │
│    ↑   ↑   ↑   ↑   ↑   ↑   ↑   ↑   ↑               │
│    灰  灰  灰  綠  藍  藍  藍  藍  藍               │
│                                                     │
│    ─────────────────────────────────               │
│                                                     │
│    a  sa  go  ha  n  wo  ta  be  ma  su            │
│    ↑   ↑   ↑  [↑]  ↑   ↑   ↑   ↑   ↑  ↑           │
│    灰  灰  灰  綠  藍  藍  藍  藍  藍  藍           │
│                                                     │
└─────────────────────────────────────────────────────┘

規格：
- 日文字體大小：32px - 48px
- 羅馬字字體大小：18px - 24px
- 行高：1.8 - 2.0
- 字間距：適當增加以區分每個字元
```

### 虛擬鍵盤詳細規格

```
┌─────────────────────────────────────────────────────┐
│                                                     │
│  ┌────┐┌────┐┌────┐┌────┐┌────┐┌────┐┌────┐┌────┐┌────┐┌────┐
│  │ Q  ││ W  ││ E  ││ R  ││ T  ││ Y  ││ U  ││ I  ││ O  ││ P  │
│  └────┘└────┘└────┘└────┘└────┘└────┘└────┘└────┘└────┘└────┘
│   ┌────┐┌────┐┌────┐┌────┐┌────┐┌────┐┌────┐┌────┐┌────┐
│   │ A  ││ S  ││ D  ││ F  ││ G  ││ H  ││ J  ││ K  ││ L  │
│   └────┘└────┘└────┘└────┘└────┘└────┘└────┘└────┘└────┘
│    ┌────┐┌────┐┌────┐┌────┐┌────┐┌────┐┌────┐
│    │ Z  ││ X  ││ C  ││ V  ││ B  ││ N  ││ M  │
│    └────┘└────┘└────┘└────┘└────┘└────┘└────┘
│                                                     │
└─────────────────────────────────────────────────────┘

規格：
- 按鍵大小：48px x 48px（桌面）
- 按鍵間距：4px - 8px
- 按鍵字體：16px - 20px，粗體
- 預設按鍵：深灰色背景（#333）、白色文字
- 目標按鍵：綠色邊框（#10B981）、2px 寬度
- 按下狀態：稍微變亮（用於 v1.0.9）
```

### CSS 類別設計

```css
/* 文字狀態 */
.char-pending { color: #3B82F6; }   /* 藍色 - 未輸入 */
.char-current { color: #10B981; }   /* 綠色 - 當前目標 */
.char-completed { color: #6B7280; } /* 灰色 - 已輸入 */

/* 鍵盤按鍵 */
.key {
  background: #333;
  color: #fff;
}
.key-target {
  border: 2px solid #10B981;
  box-shadow: 0 0 8px rgba(16, 185, 129, 0.5);
}
.key-pressed {
  background: #444;
  transform: scale(0.95);
}
```

---

## 實作步驟

### Step 1: 頁面結構

```
1.1 建立練習頁面 content
    - content/practice/_index.md
    - 設定 layout: practice

1.2 建立練習頁面模板
    - layouts/practice/list.html
    - 包含題目區和鍵盤區的 HTML 結構

1.3 整合到網站導航
    - 在 hugo.toml 的 menu 加入 Practice 連結
    - 或在首頁加入明顯的進入連結
```

### Step 2: 題目顯示區 UI

```
2.1 設計題目容器
    - 置中、適當寬度（max-width: 800px）
    - 深色背景或透明

2.2 實作三態文字的 HTML 結構
    <div class="practice-text">
      <span class="char char-completed">朝</span>
      <span class="char char-completed">ご</span>
      <span class="char char-current">は</span>
      <span class="char char-pending">ん</span>
      ...
    </div>

2.3 實作羅馬拼音提示
    <div class="practice-romaji">
      <span class="romaji romaji-completed">a</span>
      <span class="romaji romaji-completed">sa</span>
      <span class="romaji romaji-current">ha</span>
      ...
    </div>

2.4 加入靜態範例內容測試
    - 使用「朝ごはんを食べます」作為測試句
```

### Step 3: 虛擬鍵盤 UI

```
3.1 設計鍵盤 HTML 結構
    <div class="keyboard">
      <div class="keyboard-row">
        <div class="key" data-key="q">Q</div>
        <div class="key" data-key="w">W</div>
        ...
      </div>
      <div class="keyboard-row">
        <div class="key" data-key="a">A</div>
        ...
      </div>
      <div class="keyboard-row">
        <div class="key" data-key="z">Z</div>
        ...
      </div>
    </div>

3.2 建立按鍵樣式
    - 預設狀態、目標狀態、按下狀態

3.3 實作鍵盤佈局
    - QWERTY 標準配置
    - 適當的偏移（第二排、第三排）

3.4 選用：加入假名標註
    - 在按鍵下方小字標示對應假名
    - 例：A 鍵下方標示「あ」
```

### Step 4: 整體樣式

```
4.1 設定頁面基本樣式
    - 黑色背景：background: #000 或 #111
    - 無 padding/margin（全螢幕感）

4.2 調整字體
    - 日文：Noto Sans JP 或系統預設
    - 羅馬字：等寬字體（Consolas, Monaco）

4.3 確保視覺層次
    - 題目區在上方、較大
    - 鍵盤區在下方、適中

4.4 加入最小化的視覺反饋
    - hover 效果（桌面）
    - 過渡動畫（transition）
```

---

## 預計新增/修改檔案

```
japanese_learning_blog/
├── content/
│   └── practice/
│       └── _index.md                  # [新增] 練習頁面 frontmatter
├── layouts/
│   └── practice/
│       └── list.html                  # [新增] 練習頁面模板
├── assets/
│   └── css/
│       └── practice.css               # [新增] 練習頁面樣式
├── static/
│   └── js/
│       └── practice-ui.js             # [新增] 最小化 UI JS（僅處理按鍵視覺）
└── hugo.toml                          # [修改] 加入導航連結
```

### practice/_index.md 範例

```yaml
---
title: "日文輸入練習"
layout: "practice"
---
```

### practice/list.html 範例結構

```html
{{ define "main" }}
<div class="practice-container">
  <!-- 題目顯示區 -->
  <div class="practice-display">
    <div class="practice-text" id="practice-text">
      <!-- 由 JS 動態生成，或使用靜態範例 -->
      <span class="char char-completed">朝</span>
      <span class="char char-current">ご</span>
      <span class="char char-pending">は</span>
      <span class="char char-pending">ん</span>
    </div>
    <div class="practice-romaji" id="practice-romaji">
      <span class="romaji romaji-completed">asa</span>
      <span class="romaji romaji-current">go</span>
      <span class="romaji romaji-pending">ha</span>
      <span class="romaji romaji-pending">n</span>
    </div>
  </div>

  <!-- 虛擬鍵盤 -->
  <div class="keyboard" id="keyboard">
    <div class="keyboard-row">
      <div class="key" data-key="q">Q</div>
      <div class="key" data-key="w">W</div>
      <!-- ... -->
    </div>
    <!-- ... -->
  </div>
</div>

<!-- 載入樣式和最小化 JS -->
{{ $css := resources.Get "css/practice.css" | minify }}
<link rel="stylesheet" href="{{ $css.RelPermalink }}">
<script src="/js/practice-ui.js" defer></script>
{{ end }}
```

---

## 測試重點

### 視覺測試

```
□ 黑色背景正確顯示
□ 三態文字顏色正確
  - 藍色（#3B82F6）
  - 灰色（#6B7280）
  - 綠色（#10B981）
□ 鍵盤按鍵清晰可見
□ 目標鍵位高亮正確
```

### 佈局測試

```
□ 桌面瀏覽器（1920x1080）正常
□ 小桌面（1366x768）正常
□ 平板橫向（1024x768）正常
□ 行動裝置顯示提示訊息
```

### 導航測試

```
□ 從首頁可進入練習頁
□ 練習頁可返回首頁
□ URL 為 /practice/
```

---

## 風險與注意事項

### 潛在問題

1. **字體載入**
   - 日文字體可能較大，影響載入速度
   - 解決：使用系統字體或 subset

2. **鍵盤佈局相容性**
   - 非 QWERTY 鍵盤使用者
   - 解決：v1.0.9 可加入鍵盤配置選項

3. **行動裝置**
   - 虛擬鍵盤在觸控裝置上意義不大
   - 解決：顯示提示「請使用桌面瀏覽器搭配實體鍵盤」

### 本版本不處理

以下功能將在 v1.0.9 或 v1.1.0 實作：

- 實際鍵盤輸入處理
- 按鍵即時高亮
- 朗讀功能
- 題目載入和切換
- 完成統計

---

## 相關資源

- [CSS 顏色參考](https://tailwindcss.com/docs/customizing-colors)
- [Noto Sans JP](https://fonts.google.com/noto/specimen/Noto+Sans+JP)
- v1.0.7 的 Hugo 基礎設定

---

**建立日期**：2024-12-17
**前置版本**：v1.0.7
**預計開發分支**：`feature/v1.0.8-practice-ui`
